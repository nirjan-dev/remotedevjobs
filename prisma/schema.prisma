// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema
generator client {
  provider = "prisma-client-js"
}

datasource db {
  // NOTE: You probably want to change this to another database later on
  provider = "sqlite"
  // This value is read from the .env file.
  url      = env("DATABASE_URL")
}

model Company {
  id          String @id @default(uuid())
  name        String
  description String
  slug        String @unique
  Job         Job[]
}

model Location {
  id   String @id @default(uuid())
  name String
  Job  Job[]
  slug String @unique
}

model Duration {
  id   String @id @default(uuid())
  name String
  Job  Job[]
  slug String @unique
}

model Role {
  id   String @id @default(uuid())
  name String
  Job  Job[]
  slug String @unique
}

model Benefit {
  id    String  @id @default(uuid())
  name  String
  Job   Job?    @relation(fields: [JobId], references: [id])
  JobId String?
  slug  String  @unique
}

model ExperienceLevel {
  id   String @id @default(uuid())
  name String
  Job  Job[]
  slug String @unique
}

model Tech {
  id    String  @id @default(uuid())
  name  String
  Job   Job?    @relation(fields: [JobId], references: [id])
  JobId String?
  slug  String  @unique
}

model JobAlert {
  id        String @id @default(uuid())
  frequency String
  Users     User[]
  slug      String @unique
}

model User {
  id                  String     @id @default(uuid())
  email               String     @unique
  password            String
  name                String
  subscribedJobAlerts JobAlert[]
}

model Job {
  id                String          @id @default(uuid())
  title             String
  description       String
  company           Company         @relation(fields: [companyId], references: [id])
  location          Location[]
  duration          Duration        @relation(fields: [durationId], references: [id])
  role              Role            @relation(fields: [roleId], references: [id])
  benefits          Benefit[]
  experienceLevel   ExperienceLevel @relation(fields: [experienceLevelId], references: [id])
  tech              Tech[]
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt
  companyId         String
  locationId        String
  durationId        String
  roleId            String
  experienceLevelId String
  slug              String          @unique
}
